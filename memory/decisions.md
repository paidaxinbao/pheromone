# Pheromone 项目架构决策

## 决策记录 001 - 共享文件队列

**日期**: 2026-02-28 23:10

**问题**: 如何让多个 Agent 容器之间共享任务状态？

**选项**:
1. 数据库（PostgreSQL/Redis）
2. 共享文件队列
3. HTTP API 通信
4. 消息队列（RabbitMQ/Kafka）

**决策**: 共享文件队列

**理由**:
- ✅ 最简单，无需额外基础设施
- ✅ Windows 和 Docker 都支持文件共享
- ✅ 易于调试和监控
- ✅ 无网络依赖
- ❌ 性能不如数据库
- ❌ 需要处理文件锁

**结果**: 实施中，文件结构已创建

---

## 决策记录 002 - Orchestrator 模式

**日期**: 2026-02-28 23:15

**问题**: 如何协调多个 Agent 的工作？

**选项**:
1. 中心化 Orchestrator
2. 去中心化自组织
3. 混合模式

**决策**: 中心化 Orchestrator（我）

**理由**:
- ✅ 清晰的责任分离
- ✅ 易于监控和汇报
- ✅ 可以统一收集进度
- ✅ 你只需要和我沟通
- ❌ 单点故障风险
- ❌ Orchestrator 负载较高

**结果**: 已实施，每 10 分钟汇报

---

## 决策记录 003 - 飞书汇报机制

**日期**: 2026-02-28 23:35

**问题**: 如何实现自动飞书汇报？

**选项**:
1. Windows 任务计划 + 飞书机器人
2. OpenClaw 内部 Cron
3. 我主动读取并发送

**决策**: 我主动读取并发送

**理由**:
- ✅ 不需要你配置飞书机器人
- ✅ 不需要管理员权限
- ✅ 汇报内容可以自定义
- ✅ 最灵活
- ❌ 依赖我的运行环境

**结果**: 已实施，每 10 分钟发送